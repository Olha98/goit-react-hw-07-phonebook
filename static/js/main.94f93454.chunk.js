(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{22:function(e,t,n){e.exports={appear:"Form_appear__2e7EE",appearActive:"Form_appearActive__170ts",formContainer:"Form_formContainer__FpX3R",boxAlert:"Form_boxAlert__zywhA"}},26:function(e,t,n){e.exports={list:"ListPeople_list__10o9x",enter:"ListPeople_enter__1I9sK",enterActive:"ListPeople_enterActive__3WvFf",exit:"ListPeople_exit__1eu98",exitActive:"ListPeople_exitActive__2ksQN"}},43:function(e,t,n){},46:function(e,t,n){e.exports={contactsTitle:"FillterForm_contactsTitle___JL_W"}},47:function(e,t,n){e.exports={containerUser:"ContactForm_containerUser__1Q4Sf"}},48:function(e,t,n){e.exports={enter:"Alert_enter__aQoIn",enterActive:"Alert_enterActive__2Btu6",exit:"Alert_exit__15eGw",exitActive:"Alert_exitActive__fhlBB",alert:"Alert_alert__3EkcG",message:"Alert_message__1_Hm5"}},54:function(e,t,n){e.exports=n(87)},59:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(11),l=n.n(o),u=n(10),i=n(13),s=n(40),m=n(41),b=n(51),f=n(50),p=n(22),E=n.n(p),C=(n(59),n(42)),d=n(43),h=n.n(d),g=n(9),v=n(25),_=n.n(v),O=n(45),S=n(5),j={filterChange:Object(S.b)("contacts/filterChange",(function(e){return{payload:{filter:e}}})),alertError:Object(S.b)("contacts/alertError"),addContactRequest:Object(S.b)("contact/ADDTASKREQUEST"),addContactSuccess:Object(S.b)("contact/ADDTASKSUCCESS"),addContactError:Object(S.b)("contact/ADDTASKERROR"),getContactsRequest:Object(S.b)("contact/GETCONTACTREQUEST"),getContactsSuccess:Object(S.b)("contact/GETCONTACTSUCCESS"),getContactsError:Object(S.b)("contact/GETCONTACTERROR"),removeContactRequest:Object(S.b)("contact/removeASKREQUEST"),removeContactSuccess:Object(S.b)("contact/removeTASKSUCCESS"),removeContactError:Object(S.b)("contact/removeTASKERROR")},A=n(18),x=n.n(A),y=function(e){return function(t){t(j.addContactRequest()),x.a.post("https://redux-async.firebaseio.com/contacts.json",e).then((function(n){console.log(n,"responce"),t(j.addContactSuccess(Object(i.a)(Object(i.a)({},e),{},{id:n.data.name})))})).catch((function(e){return t(j.addContactError(e))}))}},R=function(){return function(){var e=Object(O.a)(_.a.mark((function e(t){var n,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j.getContactsRequest()),e.prev=1,e.next=4,x.a.get("https://redux-async.firebaseio.com/contacts.json");case 4:n=e.sent,console.log(n,"RESULT"),a=Object.keys(n.data),r=a.reduce((function(e,t){return e.push(Object(i.a)({id:t},n.data[t])),e}),[]),t(j.getContactsSuccess(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(j.getContactsError("Something went wrong"));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(t){t(j.removeContactRequest()),x.a.delete("https://redux-async.firebaseio.com/contacts/".concat(e,".json")).then((function(){console.log(e,"SuccessID"),t(j.removeContactSuccess(e))})).catch((function(e){console.log(e,"error"),t(j.removeContactError(e))}))}},w=Object(g.b)(null,(function(e){return{onRemoveContact:function(t){e(T(t.target.name))}}}))((function(e){var t=e.name,n=e.number,a=e.id,r=e.onRemoveContact;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:h.a.listItem},t,": ",n,c.a.createElement("button",{type:"button",onClick:r,name:a},"Delite")))})),F=n(26),N=n.n(F),k=n(89),D=n(88),U=function(e){return e.contacts},L={getContactSelection:U,getAlertSelection:function(e){return e.alert},getFilterSelection:function(e){return e.filter},getContactFilterSelection:function(e){return e.contacts.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())}))}},G=Object(g.b)((function(e){var t=e.state;return{contacts:L.getContactFilterSelection(t)}}))((function(e){var t=e.contacts;return console.log(t,"contacts"),c.a.createElement(k.a,{className:N.a.list},t.map((function(e){return c.a.createElement(D.a,{key:e.id,timeout:500,classNames:N.a},c.a.createElement(w,Object.assign({key:Object(C.v4)()},e)))})))})),K=n(46),q=n.n(K),P={onfilterChange:j.filterChange},Q=Object(g.b)(null,P)((function(e){var t=e.value,n=e.onfilterChange;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Contacts"),c.a.createElement("label",null,c.a.createElement("p",{className:q.a.contactsTitle},"Find contacts by name"),c.a.createElement("input",{type:"text",name:"filter",value:t,onChange:function(e){n(e.target.value)}})))})),I=n(47),B=n.n(I),J=function(e){var t=e.name,n=e.number,a=e.handleChange;return c.a.createElement("div",{className:B.a.containerUser},c.a.createElement("label",null,c.a.createElement("p",null,"Name"),c.a.createElement("input",{type:"text",name:"name",onChange:a,value:t})),c.a.createElement("label",null,c.a.createElement("p",null,"Number"),c.a.createElement("input",{type:"text",name:"number",onChange:a,value:n})),c.a.createElement("button",{type:"submit"},"Add"))},H=n(27),W=n(48),z=n.n(W),M=function(){return c.a.createElement("div",{className:"container-sm"},c.a.createElement(H.a,{variant:"danger",className:z.a.boxAlert},c.a.createElement(H.a.Heading,null,"Contact already exists!Oh snap! You got an error!")))},X=n(49),Y={name:"",number:""},V=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state=Object(i.a)({},Y),e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(u.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,r=n.number,c=e.props.contacts;c&&(console.log(c.length,"errorContacts.lenght"),c.map((function(e){return e})).find((function(t){return t.name===e.state.name&&t.number===e.state.number}))?e.alertShow():e.props.onAddContacts({name:a,number:r}));e.setState(Object(i.a)({},Y))},e.alertShow=function(){e.props.onAlertError(),setTimeout((function(){return e.props.onAlertError()}),5e3)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContactOperation()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=this.props.alert;return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(D.a,{classNames:E.a,in:!0,appear:!0,timeout:1500,unmountOnExit:!0},c.a.createElement(M,null)),c.a.createElement(X.a,{onSubmit:this.handleSubmit,className:E.a.formContainer},c.a.createElement(D.a,{in:!0,appear:!0,classNames:"title",timeout:1e3,unmountOnExit:!0},c.a.createElement("h2",null,"Phonebook")),c.a.createElement(J,{handleChange:this.handleChange,name:t,number:n}),c.a.createElement(Q,null),c.a.createElement(G,null)))}}]),n}(r.Component),Z=Object(g.b)((function(e){var t=e.state;return{value:L.getFilterSelection(t),alert:L.getAlertSelection(t),contacts:L.getContactSelection(t)}}),(function(e){return{onAddContacts:function(t,n){return e(y(t,n))},onAlertError:function(){return e(j.alertError())},onGetContactOperation:function(){return e(R())}}}))(V),$=(n(86),n(16)),ee=n(7),te=Object(S.c)([],(a={},Object(u.a)(a,j.getContactsSuccess,(function(e,t){return Object($.a)(t.payload)})),Object(u.a)(a,j.addContactSuccess,(function(e,t){return[].concat(Object($.a)(e),[t.payload])})),Object(u.a)(a,j.removeContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),ne=Object(S.c)("",Object(u.a)({},j.filterChange,(function(e,t){return t.payload.filter}))),ae=Object(ee.c)({contacts:te,filter:ne,alert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case j.alertError.type:return!e;default:return e}}}),re=Object(S.d)(),ce=Object(S.a)({reducer:{state:ae},middleware:Object($.a)(re)});l.a.render(c.a.createElement(g.a,{store:ce},c.a.createElement(Z,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.94f93454.chunk.js.map